<!DOCTYPE html>
<html>
<head>
<title>SSearch</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
</head>
<body>
<div id="container">
  <div style="height: 20vh;"></div>
  <div id="main-wrapper" class="fancy-scrollbar">
    <div id="main">
      <div id="content">
        <div style="height: 8vh;"></div>
        <div id="header-container">
            <img id="logo" src="https://ssearch-eta.vercel.app/images/logo2%20(1).png" alt="SSearch logo" />
        </div>
        <div id="search-container">
          <div id="search-input-container">
              <input type="text" id="searchbar" placeholder="Search" />
          </div>
        </div>
        <div id="apps-container">
          
        </div>
        <div id="add-bookmark-container">
          <button id="add-bookmark-button" onclick="window.location.href='bookmark'" type="button">Add Bookmark</button>
        </div>
      </div>
    </div>
  </div>
</div>
<p style="display: block; width: 100%; text-align: center; margin: 0 auto;" target="_blank">
  Original website made by 
  <a href="https://codepen.io/Hyperplexed/pen/xxJaxJj">Hyperplexed</a>. <a target="_blank" href="https://ssearch-eta.vercel.app/hyper-license.txt">His project copyright</a>
</p>
  <script>
    function ensureHttps(url) {
  if (!url.startsWith('http')) {
    url = 'https://' + url;
  }
  return url;
}
    
    var bookmarks = JSON.parse(localStorage.getItem('bookmarks')) || [];
        bookmarks.forEach(function (bookmark) {
            document.getElementById('apps-container').innerHTML += `
            <a href="${ensureHttps(bookmark)}" target="_blank">
            <img style="height: 30px !important;" src="${ensureHttps(bookmark)}/favicon.ico" />
            <div class="label">
              <span style="font-size: x-large;" class="name">${bookmark}</span>
            </div>
          </a>
            `;
        });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
  document.getElementById('searchbar').addEventListener('keydown', function (event) {
    if (event.key === 'Enter') {
      submitSearch(event);
    }
  });

  function submitSearch(event) {
    event.preventDefault(); 
    var searchQueryElement = document.getElementById('searchbar');

    if (searchQueryElement) {
      var searchQuery = searchQueryElement.value;
      if (searchQuery.trim() !== '') {
        window.location.href = 'search?q=' + encodeURIComponent(searchQuery);
      }
    }
  }
});
</script>
</body>

</html>
